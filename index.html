<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ê°€ê²Œ í”„ë¡œí† íƒ€ì… - ìš´ì˜ ëª¨ë“œ</title>
  <style>
    /*******************************
     * Stardew-like Warm UI Palette
     *******************************/
    :root{
      --bg:#3b2a1d;
      --bg2:#2c1f16;
      --panel:#e7d2aa;
      --panel2:#d8bd8a;
      --panel3:#caa56f;
      --line: rgba(66,44,26,.35);
      --line2: rgba(66,44,26,.55);
      --text:#2a1c12;
      --muted:#5a3f2a;
      --accent:#2f8f4e;
      --accent2:#1f6f3b;
      --danger:#b23b3b;
      --shadow: 0 10px 22px rgba(0,0,0,.35);
      --radius:16px;
    }

    *{
      box-sizing:border-box;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,"Apple SD Gothic Neo","Noto Sans KR",sans-serif;
    }

    body{
      margin:0;
      min-height:100vh;
      color:var(--text);
      background:
        radial-gradient(900px 600px at 25% 15%, rgba(255,219,150,.18), transparent 60%),
        radial-gradient(800px 500px at 70% 80%, rgba(255,236,195,.12), transparent 65%),
        linear-gradient(180deg, var(--bg), var(--bg2));
      overflow: hidden; /* ìŠ¤í¬ë¡¤ ë°©ì§€ */
    }

    /* ê³µí†µ ìœ í‹¸ */
    .screen{
      min-height:100vh;
      display:grid;
      place-items:center;
      padding:24px;
      position:relative;
      transition: opacity 0.3s ease;
    }
    .hidden { display: none !important; }

    /* í™ˆ í™”ë©´ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
    .center-actions{
      display:flex;
      flex-direction:column;
      gap:14px;
      align-items:center;
      justify-content:center;
      width:min(520px, 92vw);
      padding:28px;
      background: linear-gradient(180deg, rgba(231,210,170,.96), rgba(216,189,138,.96));
      border:1px solid var(--line2);
      border-radius: calc(var(--radius) + 8px);
      box-shadow: var(--shadow);
    }
    .title{ font-size:20px; font-weight:900; letter-spacing:-0.02em; margin:0 0 6px 0; }
    .subtitle{ margin:0 0 12px 0; color:var(--muted); font-size:14px; line-height:1.4; text-align:center; }

    /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
    .btn{
      width:100%; border:0; border-radius:14px; padding:14px 16px;
      font-size:15px; font-weight:900; color:var(--text);
      background: linear-gradient(180deg, rgba(255,243,220,.95), rgba(232,206,160,.95));
      border:1px solid var(--line2); cursor:pointer;
      transition: transform .08s ease, filter .12s ease, opacity .12s ease;
      user-select:none; box-shadow: 0 4px 0 rgba(66,44,26,.25);
    }
    .btn:active{ transform: translateY(1px); box-shadow: 0 3px 0 rgba(66,44,26,.22); }
    .btn-primary{
      background: linear-gradient(180deg, rgba(74,195,108,.95), rgba(47,143,78,.95));
      border:1px solid rgba(31,111,59,.55); color:#0e2416;
      box-shadow: 0 4px 0 rgba(31,111,59,.28);
    }
    .btn-disabled{
      opacity:.55; cursor:not-allowed; pointer-events:none;
      filter:saturate(.75); box-shadow:none;
    }
    .bottom-left{ position:absolute; left:24px; bottom:24px; display:flex; flex-direction:column; gap:10px; width:min(220px, 44vw); }
    .bottom-right{ position:absolute; right:24px; bottom:24px; width:min(220px, 44vw); display:flex; justify-content:flex-end; }
    @media (max-width: 520px){
      .bottom-left{ left:16px; bottom:16px; width:44vw; }
      .bottom-right{ right:16px; bottom:16px; width:44vw; }
      .center-actions{ padding:22px; }
    }

    /* ëª¨ë‹¬/íŒ¨ë„ ìŠ¤íƒ€ì¼ (ê¸°ì¡´ ìœ ì§€) */
    .overlay{
      position:fixed; inset:0; display:none; place-items:center;
      background: rgba(28,18,12,.58); padding:24px; z-index:50;
    }
    .overlay.is-open{ display:grid; }
    .modal{
      width:min(980px, 96vw);
      background: linear-gradient(180deg, rgba(231,210,170,.98), rgba(216,189,138,.98));
      border:2px solid rgba(66,44,26,.55); border-radius: calc(var(--radius) + 12px);
      box-shadow: var(--shadow); padding:16px; position:relative;
    }
    .setup-wrap{ display:grid; grid-template-columns: 360px 1fr; gap:14px; align-items:stretch; }
    @media (max-width: 900px){ .setup-wrap{ grid-template-columns: 1fr; } }
    .panel{
      background: linear-gradient(180deg, rgba(255,246,229,.96), rgba(232,206,160,.96));
      border:2px solid rgba(66,44,26,.45); border-radius: 18px; padding:12px;
      display:flex; flex-direction:column; min-height:520px; min-width:0;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.55);
    }
    .panel-header{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px; }
    .panel-title{ font-weight:900; letter-spacing:-0.02em; font-size:15px; margin:0; }
    .hint{ color:var(--muted); font-size:12px; line-height:1.3; margin:0; }
    
    /* ë ˆì‹œí”¼ & ì¬ë£Œ UI ì»´í¬ë„ŒíŠ¸ (ê¸°ì¡´ ìœ ì§€) */
    .recipe-btn{ display:inline-flex; align-items:center; gap:8px; border-radius:999px; border:2px solid rgba(66,44,26,.30); background: rgba(255,255,255,.28); padding:8px 12px; font-weight:900; font-size:13px; cursor:pointer; user-select:none; box-shadow: 0 3px 0 rgba(66,44,26,.16); color: var(--text); white-space:nowrap; }
    .recipe-btn:active{ transform: translateY(1px); box-shadow: 0 2px 0 rgba(66,44,26,.14); }
    .recipe-btn .dot{ width:10px;height:10px;border-radius:999px; background: rgba(47,143,78,.95); border:1px solid rgba(31,111,59,.55); box-shadow: 0 1px 0 rgba(255,255,255,.35) inset; }
    .bread-row{ display:flex; gap:10px; align-items:stretch; margin-bottom:10px; }
    .bread-btn{ flex:1; display:flex; align-items:center; justify-content:space-between; gap:10px; padding:12px 12px; border-radius:14px; border:2px solid rgba(66,44,26,.45); background: linear-gradient(180deg, rgba(255,243,220,.95), rgba(232,206,160,.95)); cursor:pointer; user-select:none; font-weight:900; box-shadow: inset 0 1px 0 rgba(255,255,255,.6); }
    .chip{ font-size:12px; padding:6px 10px; border-radius:999px; border:2px solid rgba(66,44,26,.35); background: rgba(255,255,255,.35); color:var(--muted); white-space:nowrap; }
    .dropdown{ position:relative; flex:1; min-width:0; }
    .dropdown-menu{ position:absolute; left:0; right:0; top:calc(100% + 8px); background: linear-gradient(180deg, rgba(255,246,229,.98), rgba(232,206,160,.98)); border:2px solid rgba(66,44,26,.5); border-radius:14px; overflow:hidden; box-shadow: var(--shadow); display:none; z-index:60; max-height:240px; overflow:auto; }
    .dropdown.open .dropdown-menu{ display:block; }
    .dd-item{ padding:10px 12px; border-bottom:1px solid rgba(66,44,26,.18); cursor:pointer; font-weight:900; }
    .dd-item:hover{ background: rgba(255,255,255,.35); }
    .recipe-box{ border:2px dashed rgba(66,44,26,.35); border-radius:16px; padding:10px; flex:1; min-height:320px; display:flex; flex-direction:column; gap:8px; min-width:0; background: rgba(255,255,255,.20); }
    .recipe-slot{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 10px; border-radius:12px; border:2px solid rgba(66,44,26,.25); background: rgba(255,255,255,.35); box-shadow: inset 0 1px 0 rgba(255,255,255,.55); }
    .slot-left{ display:flex; align-items:center; gap:10px; min-width:0; }
    .slot-idx{ width:22px; height:22px; border-radius:999px; display:grid; place-items:center; font-size:12px; font-weight:900; color:#0e2416; background: linear-gradient(180deg, rgba(74,195,108,.95), rgba(47,143,78,.95)); border:1px solid rgba(31,111,59,.55); flex:0 0 auto; }
    .slot-name{ font-weight:900; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .slot-cat{ font-size:12px; color:var(--muted); white-space:nowrap; flex:0 0 auto; }
    .slot-actions{ display:flex; gap:8px; align-items:center; flex:0 0 auto; }
    .mini-btn{ border:2px solid rgba(66,44,26,.30); background: rgba(255,255,255,.35); color:var(--text); border-radius:10px; padding:7px 10px; font-size:12px; font-weight:900; cursor:pointer; box-shadow: 0 3px 0 rgba(66,44,26,.18); }
    .mini-btn:active{ transform: translateY(1px); box-shadow: 0 2px 0 rgba(66,44,26,.16); }
    .mini-btn.danger{ border-color: rgba(178,59,59,.45); background: rgba(178,59,59,.18); color:#3a1414; box-shadow: 0 3px 0 rgba(178,59,59,.18); }
    .drop-hint{ margin-top:auto; color:var(--muted); font-size:12px; line-height:1.35; }
    .tabs{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px; }
    .tab{ padding:8px 12px; border-radius:999px; border:2px solid rgba(66,44,26,.30); background: rgba(255,255,255,.28); cursor:pointer; font-weight:900; font-size:13px; user-select:none; box-shadow: 0 3px 0 rgba(66,44,26,.16); }
    .tab:active{ transform: translateY(1px); box-shadow: 0 2px 0 rgba(66,44,26,.14); }
    .tab.active{ background: rgba(74,195,108,.22); border-color: rgba(31,111,59,.45); color:#0e2416; box-shadow: 0 3px 0 rgba(31,111,59,.18); }
    .items{ border:2px solid rgba(66,44,26,.30); border-radius:16px; background: rgba(255,255,255,.18); overflow:hidden; display:flex; flex-direction:column; flex:1; min-height:0; }
    .items-scroll{ overflow:auto; padding:10px; display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:10px; }
    @media (max-width: 900px){ .items-scroll{ grid-template-columns: 1fr; } }
    .item{ border:2px solid rgba(66,44,26,.26); background: rgba(255,255,255,.30); border-radius:14px; padding:10px; display:flex; align-items:center; justify-content:space-between; gap:10px; cursor:grab; user-select:none; min-width:0; box-shadow: inset 0 1px 0 rgba(255,255,255,.55); }
    .item:active{ cursor:grabbing; }
    .item.disabled{ opacity:.55; cursor:not-allowed; filter:saturate(.75); }
    .item-left{ min-width:0; display:flex; flex-direction:column; gap:2px; }
    .item-name{ font-weight:900; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .item-sub{ font-size:12px; color:var(--muted); white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .count{ font-size:12px; font-weight:900; padding:6px 10px; border-radius:999px; border:2px solid rgba(66,44,26,.26); background: rgba(255,255,255,.25); flex:0 0 auto; color:var(--muted); }
    .modal-footer{ margin-top:12px; display:grid; grid-template-columns: 1fr 1fr; gap:10px; }
    .btn-flat{ width:100%; border-radius:16px; padding:14px 16px; font-size:15px; font-weight:900; border:2px solid rgba(66,44,26,.35); background: rgba(255,255,255,.28); color: var(--text); cursor:pointer; box-shadow: 0 4px 0 rgba(66,44,26,.18); }
    .btn-flat:active{ transform: translateY(1px); box-shadow: 0 3px 0 rgba(66,44,26,.16); }
    .btn-flat.primary{ background: rgba(74,195,108,.22); border-color: rgba(31,111,59,.45); color:#0e2416; box-shadow: 0 4px 0 rgba(31,111,59,.18); }
    .btn-flat.danger{ background: rgba(178,59,59,.18); border-color: rgba(178,59,59,.42); color:#3a1414; box-shadow: 0 4px 0 rgba(178,59,59,.18); }
    .droppable{ outline: 3px solid rgba(74,195,108,.45); outline-offset: 2px; }

    /* ë¯¸ë¦¬ë³´ê¸° íŒì—… (ê¸°ì¡´ ìœ ì§€) */
    .preview-overlay{ position:fixed; inset:0; display:none; place-items:center; background: rgba(28,18,12,.68); padding:24px; z-index:80; }
    .preview-overlay.is-open{ display:grid; }
    .preview-modal{ width:min(720px, 96vw); border-radius: calc(var(--radius) + 12px); border:2px solid rgba(66,44,26,.55); background: linear-gradient(180deg, rgba(231,210,170,.98), rgba(216,189,138,.98)); box-shadow: var(--shadow); padding:16px; }
    .preview-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:10px; }
    .preview-title{ font-weight:900; letter-spacing:-0.02em; font-size:15px; margin:0; }
    .preview-sub{ margin:0; color:var(--muted); font-size:12px; line-height:1.3; }
    .preview-grid{ display:grid; grid-template-columns: 1fr 260px; gap:12px; align-items:stretch; }
    @media (max-width: 720px){ .preview-grid{ grid-template-columns: 1fr; } }
    .burger-stage{ border:2px solid rgba(66,44,26,.30); border-radius:18px; background: rgba(255,255,255,.20); padding:14px; min-height:420px; display:grid; place-items:center; box-shadow: inset 0 1px 0 rgba(255,255,255,.55); }
    .burger{ width:min(360px, 90%); display:flex; flex-direction:column; align-items:stretch; gap:6px; padding:10px; }
    .layer{ height:34px; border-radius: 16px; border:2px solid rgba(66,44,26,.20); display:flex; align-items:center; justify-content:center; font-weight:900; font-size:12px; letter-spacing:-0.01em; user-select:none; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; padding:0 10px; background: rgba(255,255,255,.28); }
    .layer.bun-top{ height:46px; border-radius: 24px 24px 16px 16px; }
    .layer.bun-bot{ height:42px; border-radius: 16px 16px 24px 24px; }
    .layer.meat{ background: rgba(178,59,59,.18); }
    .layer.veg{ background: rgba(47,143,78,.18); }
    .layer.spice{ background: rgba(160,110,60,.18); }
    .layer.bread{ background: rgba(202,165,111,.35); }
    .preview-side{ border:2px solid rgba(66,44,26,.30); border-radius:18px; background: rgba(255,255,255,.18); padding:12px; display:flex; flex-direction:column; gap:10px; min-height:420px; box-shadow: inset 0 1px 0 rgba(255,255,255,.55); }
    .meta-box{ border:2px solid rgba(66,44,26,.20); background: rgba(255,255,255,.25); border-radius:14px; padding:10px; }
    .meta-title{ font-weight:900; font-size:12px; margin:0 0 6px 0; color: rgba(42,28,18,.95); }
    .meta-text{ margin:0; color:var(--muted); font-size:12px; line-height:1.4; white-space:pre-wrap; }
    .preview-actions{ margin-top:auto; display:flex; gap:10px; }
    .preview-actions .btn-flat{ padding:12px 14px; }

    /****************************************
     * [ì‹ ê·œ] ê²Œì„ í”Œë ˆì´ í™”ë©´ ìŠ¤íƒ€ì¼
     ****************************************/
    #gameScreen {
      display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 50% 50%, #4a3b2a, #2c1f16);
    }
    
    /* ì¤‘ì•™ ì„  (ì¹´ìš´í„°) */
    .counter-line {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      height: 6px;
      background: #caa56f;
      border-top: 2px solid rgba(255,255,255,0.3);
      border-bottom: 2px solid rgba(0,0,0,0.3);
      box-shadow: 0 4px 10px rgba(0,0,0,0.4);
      z-index: 5;
    }

    /* í”Œë ˆì´ì–´ (ì‚¬ëŒ ì•„ì´ì½˜) */
    .player {
      position: absolute;
      top: calc(50% - 130px); /* ì„  ë°”ë¡œ ìœ„ */
      left: 50%;
      transform: translateX(-50%);
      width: 100px;
      height: 120px;
      display: flex;
      justify-content: center;
      align-items: flex-end;
      font-size: 80px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
      z-index: 10;
    }

    /* ì†ë‹˜ ì»¨í…Œì´ë„ˆ */
    .customer-container {
      position: absolute;
      left: 50%;
      width: 100px;
      height: 120px;
      transform: translateX(-50%);
      bottom: -150px; /* í™”ë©´ ë°–ì—ì„œ ì‹œì‘ */
      display: flex;
      justify-content: center;
      align-items: center;
      transition: bottom 3s linear; /* 3ì´ˆ ë™ì•ˆ ì´ë™ */
      z-index: 20;
    }

    .customer-icon {
      font-size: 80px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
    }

    /* ë§í’ì„  */
    .speech-bubble {
      position: absolute;
      left: 80px; /* ì†ë‹˜ ìš°ì¸¡ */
      top: -20px;
      background: #fff;
      border: 3px solid #2a1c12;
      border-radius: 20px;
      border-bottom-left-radius: 0;
      padding: 15px;
      min-width: 60px;
      min-height: 60px;
      display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
      justify-content: center;
      align-items: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      animation: popIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
    .speech-bubble:active {
      transform: scale(0.95);
    }
    .bubble-content {
      font-size: 32px;
      line-height: 1;
    }

    @keyframes popIn {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }

    /* [íƒ­ í‚¤] ì£¼ë¬¸ ëª©ë¡ íŒì—… (Top UI) */
    #orderPopup {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%) translateY(-150%); /* ìœ„ë¡œ ìˆ¨ê¹€ */
      width: min(800px, 90vw);
      background: linear-gradient(180deg, rgba(255,246,229,.98), rgba(232,206,160,.98));
      border: 3px solid #422c1a;
      border-radius: 12px;
      padding: 10px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.5);
      z-index: 100;
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }
    #orderPopup.visible {
      transform: translateX(-50%) translateY(0);
    }
    
    .order-table {
      display: grid;
      grid-template-columns: repeat(9, 1fr);
      gap: 5px;
      width: 100%;
    }
    .order-slot {
      aspect-ratio: 1/1;
      background: rgba(255,255,255,0.4);
      border: 2px solid rgba(66,44,26,0.3);
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      position: relative;
    }
    .slot-num {
      position: absolute;
      top: 2px;
      left: 5px;
      font-size: 10px;
      color: var(--muted);
      font-weight: 900;
    }
    .slot-icon {
      font-size: 24px;
    }

  </style>
</head>
<body>
  <main class="screen" id="home">
    <section class="center-actions" aria-label="í™ˆ ë©”ë‰´">
      <h1 class="title">ê°€ê²Œ ìš´ì˜</h1>
      <p class="subtitle">í˜„ì¬ ìƒí˜¸ì‘ìš©ì€ â€˜ê°€ê²Œ ìš´ì˜ ì‹œì‘â€™ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
      <button class="btn btn-primary" id="btnStart">ê°€ê²Œ ìš´ì˜ ì‹œì‘</button>
    </section>

    <div class="bottom-left" aria-label="ì¢Œì¸¡ í•˜ë‹¨ ë©”ë‰´">
      <button class="btn btn-disabled" aria-disabled="true">ê°€ê²Œ ì—°êµ¬</button>
      <button class="btn btn-disabled" aria-disabled="true">ì°½ê³ </button>
    </div>

    <div class="bottom-right" aria-label="ìš°ì¸¡ í•˜ë‹¨ ë©”ë‰´">
      <button class="btn btn-disabled" aria-disabled="true">ë‚˜ê°€ê¸°</button>
    </div>
  </main>

  <div id="gameScreen">
    <div id="orderPopup">
      <div class="order-table" id="orderTable">
        </div>
    </div>

    <div class="player">
      <span role="img" aria-label="í”Œë ˆì´ì–´">ğŸ§‘â€ğŸ³</span>
    </div>

    <div class="counter-line"></div>

    <div id="customerLayer"></div>
  </div>

  <div class="overlay" id="opStartOverlay" role="dialog" aria-modal="true" aria-labelledby="opStartTitle">
    <div class="modal">
      <div class="panel-header" style="margin-bottom:12px;">
        <div>
          <div class="panel-title" id="opStartTitle">í–„ë²„ê±° ì¬ë£Œ ì„¸íŒ…</div>
          <p class="hint">ìš°ì¸¡ ì¬ë£Œë¥¼ ë“œë˜ê·¸í•´ì„œ ë ˆì‹œí”¼ì— ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ìµœëŒ€ 10ê°œ)</p>
        </div>
        <div class="chip" id="recipeCountChip">0 / 10</div>
      </div>

      <div class="setup-wrap" id="setupView">
        <section class="panel" aria-label="ë ˆì‹œí”¼">
          <div class="panel-header">
            <h3 class="panel-title">ë ˆì‹œí”¼</h3>
            <span class="chip" id="selectedBreadChip">ë¹µ: ë°€ ë¹µ</span>
          </div>

          <div class="bread-row">
            <div class="dropdown" id="breadDropdown">
              <div class="bread-btn" id="breadBtn" role="button" tabindex="0" aria-label="ë¹µ ì„ íƒ">
                <span>ë¹µ ì„ íƒ</span>
                <span class="chip" id="breadBtnValue">ë°€ ë¹µ</span>
              </div>
              <div class="dropdown-menu" id="breadMenu" aria-label="ë¹µ ëª©ë¡"></div>
            </div>
          </div>

          <div class="recipe-box" id="recipeDropZone" aria-label="ë ˆì‹œí”¼ ì¬ë£Œ ì¹¸ (ë“œë¡­ ê°€ëŠ¥)"></div>

          <p class="drop-hint">
            â€¢ ìš°ì¸¡ ì¬ë£Œë¥¼ ë“œë˜ê·¸í•˜ì—¬ ì¶”ê°€<br/>
            â€¢ ì¶”ê°€ëœ ì¬ë£ŒëŠ” ì œê±° ë²„íŠ¼ìœ¼ë¡œ ë‹¤ì‹œ ëº„ ìˆ˜ ìˆìŒ
          </p>
        </section>

        <section class="panel" aria-label="ì¬ë£Œ ëª©ë¡">
          <div class="panel-header">
            <div>
              <h3 class="panel-title">ì¬ë£Œ</h3>
              <p class="hint">ë³´ìœ  ìˆ˜ëŸ‰ì´ 0ê°œì¸ ì¬ë£ŒëŠ” ë¹„í™œì„± ì²˜ë¦¬ë©ë‹ˆë‹¤.</p>
            </div>
            <button class="recipe-btn" id="btnRecipePreview" type="button" aria-label="ë ˆì‹œí”¼ ë¯¸ë¦¬ë³´ê¸°">
              <span class="dot" aria-hidden="true"></span>
              ë ˆì‹œí”¼
            </button>
          </div>

          <div class="tabs" id="tabs">
            <div class="tab active" data-cat="ê³ ê¸°">ê³ ê¸°</div>
            <div class="tab" data-cat="ì±„ì†Œ">ì±„ì†Œ</div>
            <div class="tab" data-cat="í–¥ì‹ ë£Œ">í–¥ì‹ ë£Œ</div>
          </div>

          <div class="items">
            <div class="items-scroll" id="itemsGrid" aria-label="ì¬ë£Œ ìŠ¤í¬ë¡¤ ë¦¬ìŠ¤íŠ¸"></div>
          </div>
        </section>
      </div>

      <div class="modal-footer" aria-label="í•˜ë‹¨ ë²„íŠ¼">
        <button class="btn-flat primary" id="btnPlay">ì‹œì‘</button>
        <button class="btn-flat danger" id="btnExit">ë‚˜ê°€ê¸°</button>
      </div>
    </div>
  </div>

  <div class="preview-overlay" id="previewOverlay" role="dialog" aria-modal="true" aria-labelledby="previewTitle">
    <div class="preview-modal">
      <div class="preview-head">
        <div>
          <div class="preview-title" id="previewTitle">ë ˆì‹œí”¼ ë¯¸ë¦¬ë³´ê¸° (í–„ë²„ê±° ì™¸í˜•)</div>
          <p class="preview-sub">ì¬ë£Œ/ë¹µì„ ë³€ê²½í•˜ë©´ ì´ í™”ë©´ì˜ ì™¸í˜•ë„ ì¦‰ì‹œ ë°˜ì˜ë©ë‹ˆë‹¤.</p>
        </div>
        <div class="chip" id="previewCountChip">0 / 10</div>
      </div>
      <div class="preview-grid">
        <div class="burger-stage" aria-label="í–„ë²„ê±° ì´ë¯¸ì§€ ì˜ì—­">
          <div class="burger" id="burgerView"></div>
        </div>
        <aside class="preview-side" aria-label="ë¯¸ë¦¬ë³´ê¸° ì •ë³´">
          <div class="meta-box">
            <p class="meta-title">ì„ íƒ ë¹µ</p>
            <p class="meta-text" id="previewBreadText">-</p>
          </div>
          <div class="meta-box">
            <p class="meta-title">ì¬ë£Œ ìˆœì„œ</p>
            <p class="meta-text" id="previewItemsText">-</p>
          </div>
          <div class="meta-box">
            <p class="meta-title">ëª©ì </p>
            <p class="meta-text">ì˜ì—… ì¤‘ íŒë§¤ë  í–„ë²„ê±°ê°€ ì–´ë–»ê²Œ ë³´ì´ëŠ”ì§€ ì‹œê°ì ìœ¼ë¡œ í™•ì¸</p>
          </div>
          <div class="preview-actions">
            <button class="btn-flat danger" id="btnPreviewExit">ë‚˜ê°€ê¸°</button>
          </div>
        </aside>
      </div>
    </div>
  </div>

  <script>
    /* ===============================
     * ê¸°ì¡´ ë°ì´í„° & ë³€ìˆ˜
     * =============================== */
    const BREADS = ["ë°€ ë¹µ","ë¸Œë¦¬ì˜¤ìŠˆ","ì¹˜ì•„ë°”íƒ€","ë² ì´ê¸€","ë¨¸í•€"];
    const INGREDIENTS = [
      { name:"ì½©ê³ ê¸°", cat:"ê³ ê¸°", infinite:true },
      { name:"ë¼ì§€ê³ ê¸°", cat:"ê³ ê¸°" },
      { name:"ì†Œê³ ê¸°", cat:"ê³ ê¸°" },
      { name:"ë‹­ê³ ê¸°", cat:"ê³ ê¸°" },
      { name:"ë¬¼ê³ ê¸°", cat:"ê³ ê¸°" },
      { name:"í† ë§ˆí† ", cat:"ì±„ì†Œ" },
      { name:"ì–‘ìƒì¶”", cat:"ì±„ì†Œ" },
      { name:"ê°ì", cat:"ì±„ì†Œ" },
      { name:"ë‹¹ê·¼", cat:"ì±„ì†Œ" },
      { name:"ìƒì¶”", cat:"ì±„ì†Œ" },
      { name:"íŒŒí”„ë¦¬ì¹´", cat:"ì±„ì†Œ" },
      { name:"ê°€ì§€", cat:"ì±„ì†Œ" },
      { name:"ë¸Œë¡œì½œë¦¬", cat:"ì±„ì†Œ" },
      { name:"ì½œë¦¬í”Œë¼ì›Œ", cat:"ì±„ì†Œ" },
      { name:"ì²­ê²½ì±„", cat:"ì±„ì†Œ" },
      { name:"ì•„í‹°ì´ˆí¬", cat:"ì±„ì†Œ" },
      { name:"ë¸”ë£¨ë² ë¦¬", cat:"ì±„ì†Œ" },
      { name:"í˜¸ë°•", cat:"ì±„ì†Œ" },
      { name:"ë§ˆëŠ˜", cat:"í–¥ì‹ ë£Œ" },
      { name:"ê³ ì¶”", cat:"í–¥ì‹ ë£Œ" },
      { name:"ê¹»ì", cat:"í–¥ì‹ ë£Œ" },
      { name:"ë¡œì¦ˆë§ˆë¦¬", cat:"í–¥ì‹ ë£Œ" },
      { name:"ë°”ì§ˆ", cat:"í–¥ì‹ ë£Œ" },
      { name:"ë°•í•˜", cat:"í–¥ì‹ ë£Œ" },
      { name:"ìƒ¬ë¡¯", cat:"í–¥ì‹ ë£Œ" },
      { name:"ìºëª¨ë§ˆì¼", cat:"í–¥ì‹ ë£Œ" },
    ];
    const STOCK = {
      "ì½©ê³ ê¸°": Infinity, "ë¼ì§€ê³ ê¸°": 3, "ì†Œê³ ê¸°": 2, "ë‹­ê³ ê¸°": 0, "ë¬¼ê³ ê¸°": 1,
      "í† ë§ˆí† ": 5, "ì–‘ìƒì¶”": 0, "ê°ì": 4, "ë‹¹ê·¼": 2, "ìƒì¶”": 1, "íŒŒí”„ë¦¬ì¹´": 0,
      "ê°€ì§€": 2, "ë¸Œë¡œì½œë¦¬": 1, "ì½œë¦¬í”Œë¼ì›Œ": 0, "ì²­ê²½ì±„": 1, "ì•„í‹°ì´ˆí¬": 0,
      "ë¸”ë£¨ë² ë¦¬": 2, "í˜¸ë°•": 3, "ë§ˆëŠ˜": 6, "ê³ ì¶”": 2, "ê¹»ì": 1, "ë¡œì¦ˆë§ˆë¦¬": 0,
      "ë°”ì§ˆ": 2, "ë°•í•˜": 0, "ìƒ¬ë¡¯": 1, "ìºëª¨ë§ˆì¼": 0,
    };

    const MAX_RECIPE = 10;
    let selectedBread = "ë°€ ë¹µ";
    let currentTab = "ê³ ê¸°";
    let recipeItems = [];

    // ê¸°ì¡´ UI ìš”ì†Œë“¤
    const btnStart = document.getElementById('btnStart');
    const overlay = document.getElementById('opStartOverlay');
    const recipeDropZone = document.getElementById('recipeDropZone');
    const recipeCountChip = document.getElementById('recipeCountChip');
    const selectedBreadChip = document.getElementById('selectedBreadChip');
    const breadDropdown = document.getElementById('breadDropdown');
    const breadBtn = document.getElementById('breadBtn');
    const breadBtnValue = document.getElementById('breadBtnValue');
    const breadMenu = document.getElementById('breadMenu');
    const tabs = document.getElementById('tabs');
    const itemsGrid = document.getElementById('itemsGrid');
    const btnPlay = document.getElementById('btnPlay');
    const btnExit = document.getElementById('btnExit');
    const btnRecipePreview = document.getElementById('btnRecipePreview');
    const previewOverlay = document.getElementById('previewOverlay');
    const btnPreviewExit = document.getElementById('btnPreviewExit');
    const burgerView = document.getElementById('burgerView');
    const previewBreadText = document.getElementById('previewBreadText');
    const previewItemsText = document.getElementById('previewItemsText');
    const previewCountChip = document.getElementById('previewCountChip');
    const homeScreen = document.getElementById('home');

    /* ===============================
     * [ì‹ ê·œ] ê²Œì„ ë¡œì§ìš© ë³€ìˆ˜
     * =============================== */
    const gameScreen = document.getElementById('gameScreen');
    const customerLayer = document.getElementById('customerLayer');
    const orderPopup = document.getElementById('orderPopup');
    const orderTable = document.getElementById('orderTable');
    
    // í˜„ì¬ ì ‘ìˆ˜ëœ ì£¼ë¬¸ ëª©ë¡ (ìµœëŒ€ 9ê°œ)
    let activeOrders = []; 
    // ê²Œì„ ì§„í–‰ ì¤‘ ì—¬ë¶€
    let isGameRunning = false; 

    // ì´ˆê¸°í™”: ì£¼ë¬¸ íŒì—…ì˜ 1~9 ìŠ¬ë¡¯ ë¯¸ë¦¬ ìƒì„±
    function initOrderSlots() {
      orderTable.innerHTML = "";
      for(let i=1; i<=9; i++){
        const slot = document.createElement("div");
        slot.className = "order-slot";
        slot.innerHTML = `<span class="slot-num">${i}</span><span class="slot-icon" id="slotIcon_${i}"></span>`;
        orderTable.appendChild(slot);
      }
    }
    initOrderSlots();

    // íŒì—… ë Œë”ë§ (ì£¼ë¬¸ ëª©ë¡ ë°˜ì˜)
    function renderOrderPopup() {
      for(let i=1; i<=9; i++) {
        const iconEl = document.getElementById(`slotIcon_${i}`);
        // ë°°ì—´ ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° ì‹œì‘í•˜ë¯€ë¡œ i-1
        if (activeOrders[i-1]) {
          iconEl.textContent = "ğŸ”"; // ì£¼ë¬¸ì´ ìˆìœ¼ë©´ í–„ë²„ê±° í‘œì‹œ
        } else {
          iconEl.textContent = "";
        }
      }
    }

    // íƒ­ í‚¤ ì´ë²¤íŠ¸: ì£¼ë¬¸ íŒì—… í† ê¸€
    window.addEventListener("keydown", (e) => {
      // ê²Œì„ ì¤‘ì¼ ë•Œë§Œ ì‘ë™
      if (isGameRunning && e.key === "Tab") {
        e.preventDefault(); // ê¸°ë³¸ íƒ­ ì´ë™ ë°©ì§€
        orderPopup.classList.toggle("visible");
      }
      
      // ESC í‚¤ (ê¸°ì¡´ ë¡œì§ ìœ ì§€ + ê²Œì„ ì¤‘ì¼ ë•ŒëŠ” ë¬´ì‹œí•˜ê±°ë‚˜ í•„ìš”ì‹œ ì¶”ê°€)
      if (e.key === "Escape"){
        if (isPreviewOpen()) closePreview();
        else if (overlay.classList.contains("is-open")) closeOverlay();
      }
    });

    /* ===============================
     * ê¸°ì¡´ í•¨ìˆ˜ë“¤ (UI ì œì–´)
     * =============================== */
    function openOverlay(){
      overlay.classList.add('is-open');
      breadDropdown.classList.remove('open');
      renderAll();
    }
    function closeOverlay(){
      overlay.classList.remove('is-open');
      breadDropdown.classList.remove('open');
      closePreview();
      recipeDropZone.classList.remove('droppable');
    }
    function openPreview(){
      previewOverlay.classList.add('is-open');
      renderPreview();
    }
    function closePreview(){
      previewOverlay.classList.remove('is-open');
    }
    function isPreviewOpen(){
      return previewOverlay.classList.contains('is-open');
    }
    function setBread(bread){
      selectedBread = bread;
      selectedBreadChip.textContent = `ë¹µ: ${selectedBread}`;
      breadBtnValue.textContent = selectedBread;
      if (isPreviewOpen()) renderPreview();
    }
    function getCountLabel(name){
      const v = STOCK[name];
      if (v === Infinity) return "âˆ";
      return String(v ?? 0);
    }
    function isAvailable(name){
      const v = STOCK[name];
      return v === Infinity || (typeof v === "number" && v > 0);
    }
    function updateRecipeCount(){
      recipeCountChip.textContent = `${recipeItems.length} / ${MAX_RECIPE}`;
    }

    function renderBreadMenu(){
      breadMenu.innerHTML = "";
      BREADS.forEach(b => {
        const div = document.createElement("div");
        div.className = "dd-item";
        const label = (b === "ë°€ ë¹µ") ? `${b} (âˆ)` : b;
        div.textContent = label;
        div.addEventListener("click", () => {
          setBread(b);
          breadDropdown.classList.remove("open");
        });
        breadMenu.appendChild(div);
      });
    }

    function renderItems(){
      itemsGrid.innerHTML = "";
      const list = INGREDIENTS.filter(x => x.cat === currentTab);
      list.forEach(x => {
        const card = document.createElement("div");
        const available = isAvailable(x.name);
        card.className = "item" + (available ? "" : " disabled");
        card.setAttribute("draggable", available ? "true" : "false");
        card.dataset.name = x.name;
        card.dataset.cat = x.cat;
        
        const left = document.createElement("div");
        left.className = "item-left";
        
        const name = document.createElement("div");
        name.className = "item-name";
        name.textContent = x.name;
        
        const sub = document.createElement("div");
        sub.className = "item-sub";
        sub.textContent = `${x.cat} Â· ë³´ìœ  ${getCountLabel(x.name)}`;
        
        left.appendChild(name);
        left.appendChild(sub);
        
        const count = document.createElement("div");
        count.className = "count";
        count.textContent = getCountLabel(x.name);
        
        card.appendChild(left);
        card.appendChild(count);
        
        if (available){
          card.addEventListener("dragstart", (e) => {
            e.dataTransfer.setData("text/plain", JSON.stringify({
              type: "add", name: x.name, cat: x.cat
            }));
          });
        }
        itemsGrid.appendChild(card);
      });
    }

    function renderRecipe(){
      recipeDropZone.innerHTML = "";
      if (recipeItems.length === 0){
        const empty = document.createElement("div");
        empty.className = "hint";
        empty.style.padding = "8px 2px";
        empty.textContent = "ë ˆì‹œí”¼ ì¬ë£Œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤. ìš°ì¸¡ ì¬ë£Œë¥¼ ë“œë˜ê·¸í•´ì„œ ë„£ì–´ì£¼ì„¸ìš”.";
        recipeDropZone.appendChild(empty);
      }
      recipeItems.forEach((it, idx) => {
        const row = document.createElement("div");
        row.className = "recipe-slot";
        const left = document.createElement("div");
        left.className = "slot-left";
        const badge = document.createElement("div");
        badge.className = "slot-idx";
        badge.textContent = String(idx + 1);
        const name = document.createElement("div");
        name.className = "slot-name";
        name.textContent = it.name;
        const cat = document.createElement("div");
        cat.className = "slot-cat";
        cat.textContent = it.cat;
        left.appendChild(badge);
        left.appendChild(name);
        left.appendChild(cat);
        const actions = document.createElement("div");
        actions.className = "slot-actions";
        const removeBtn = document.createElement("button");
        removeBtn.className = "mini-btn danger";
        removeBtn.textContent = "ì œê±°";
        removeBtn.addEventListener("click", () => {
          recipeItems.splice(idx, 1);
          updateRecipeCount();
          renderRecipe();
          if (isPreviewOpen()) renderPreview();
        });
        actions.appendChild(removeBtn);
        row.appendChild(left);
        row.appendChild(actions);
        recipeDropZone.appendChild(row);
      });
      updateRecipeCount();
    }

    function wireDropZone(){
      recipeDropZone.addEventListener("dragover", (e) => {
        e.preventDefault();
        recipeDropZone.classList.add("droppable");
      });
      recipeDropZone.addEventListener("dragleave", () => {
        recipeDropZone.classList.remove("droppable");
      });
      recipeDropZone.addEventListener("drop", (e) => {
        e.preventDefault();
        recipeDropZone.classList.remove("droppable");
        let payload;
        try { payload = JSON.parse(e.dataTransfer.getData("text/plain")); }
        catch { return; }
        if (!payload) return;
        if (payload.type === "add"){
          if (recipeItems.length >= MAX_RECIPE) return;
          if (!isAvailable(payload.name)) return;
          recipeItems.push({ name: payload.name, cat: payload.cat });
          updateRecipeCount();
          renderRecipe();
          if (isPreviewOpen()) renderPreview();
        }
      });
    }

    function wireTabs(){
      tabs.addEventListener("click", (e) => {
        const t = e.target.closest(".tab");
        if (!t) return;
        currentTab = t.dataset.cat;
        [...tabs.querySelectorAll(".tab")].forEach(x => x.classList.remove("active"));
        t.classList.add("active");
        renderItems();
      });
    }

    function catToClass(cat){
      if (cat === "ê³ ê¸°") return "meat";
      if (cat === "ì±„ì†Œ") return "veg";
      if (cat === "í–¥ì‹ ë£Œ") return "spice";
      return "";
    }

    function renderPreview(){
      previewBreadText.textContent = (selectedBread === "ë°€ ë¹µ") ? `${selectedBread} (âˆ)` : selectedBread;
      previewCountChip.textContent = `${recipeItems.length} / ${MAX_RECIPE}`;
      previewItemsText.textContent = recipeItems.length
        ? recipeItems.map((x,i)=>`${i+1}. ${x.name} (${x.cat})`).join("\n")
        : "ì¬ë£Œ ì—†ìŒ";
      burgerView.innerHTML = "";
      const topBun = document.createElement("div");
      topBun.className = "layer bun-top bread";
      topBun.textContent = `${selectedBread} (ìƒë‹¨)`;
      burgerView.appendChild(topBun);
      if (recipeItems.length === 0){
        const empty = document.createElement("div");
        empty.className = "layer";
        empty.textContent = "ì¬ë£Œë¥¼ ì¶”ê°€í•˜ë©´ ì™¸í˜•ì´ ìŒ“ì…ë‹ˆë‹¤";
        burgerView.appendChild(empty);
      } else {
        recipeItems.forEach((it) => {
          const layer = document.createElement("div");
          layer.className = `layer ${catToClass(it.cat)}`;
          layer.textContent = it.name;
          burgerView.appendChild(layer);
        });
      }
      const botBun = document.createElement("div");
      botBun.className = "layer bun-bot bread";
      botBun.textContent = `${selectedBread} (í•˜ë‹¨)`;
      burgerView.appendChild(botBun);
    }

    /* ===============================
     * [ì‹ ê·œ] ê²Œì„ ì‹¤í–‰ ë¡œì§
     * =============================== */
    
    // ì‹œì‘ ë²„íŠ¼ í´ë¦­ (ì˜¤ë²„ë ˆì´ ë‹«ê³  ê²Œì„ í™”ë©´ ì§„ì…)
    btnPlay.addEventListener("click", () => {
      // ì˜¤ë²„ë ˆì´ ë‹«ê¸°
      overlay.classList.remove('is-open');
      
      // í™ˆ í™”ë©´ ìˆ¨ê¸°ê¸°
      homeScreen.classList.add('hidden');
      
      // ê²Œì„ í™”ë©´ ë³´ì´ê¸°
      gameScreen.style.display = "block";
      
      // ê²Œì„ ìƒíƒœ ì‹œì‘
      startGame();
    });

    function startGame() {
      isGameRunning = true;
      activeOrders = []; // ì£¼ë¬¸ ì´ˆê¸°í™”
      renderOrderPopup();

      // ì†ë‹˜ ìŠ¤í° (ì•½ê°„ì˜ ë”œë ˆì´ í›„ ë“±ì¥)
      setTimeout(() => {
        spawnCustomer();
      }, 500);
    }

    function spawnCustomer() {
      // 1. ì»¨í…Œì´ë„ˆ ìƒì„±
      const container = document.createElement('div');
      container.className = 'customer-container';
      
      // 2. ì†ë‹˜ ì•„ì´ì½˜
      const icon = document.createElement('div');
      icon.className = 'customer-icon';
      icon.textContent = 'ğŸš¶'; // ê±·ëŠ” ì‚¬ëŒ ì´ëª¨ì§€
      
      // 3. ë§í’ì„  (ìˆ¨ê¹€ ìƒíƒœ)
      const bubble = document.createElement('div');
      bubble.className = 'speech-bubble';
      bubble.innerHTML = '<div class="bubble-content">...</div>'; // ì²˜ìŒì—” ì 
      
      // 4. ì¡°ë¦½
      container.appendChild(icon);
      container.appendChild(bubble);
      customerLayer.appendChild(container);
      
      // 5. ì´ë™ (DOM ë Œë”ë§ í›„ ìŠ¤íƒ€ì¼ ë³€ê²½ìœ¼ë¡œ ì• ë‹ˆë©”ì´ì…˜ íŠ¸ë¦¬ê±°)
      // requestAnimationFrameì„ ë‘ ë²ˆ í˜¸ì¶œí•˜ì—¬ í™•ì‹¤í•œ ë¦¬í”Œë¡œìš° ìœ ë„
      requestAnimationFrame(() => {
        requestAnimationFrame(() => {
          // ì¤‘ì•™ ì„  ê·¼ì²˜ë¡œ ì´ë™ (bottom 50% - ì•½ê°„ì˜ ì¡°ì •)
          container.style.bottom = 'calc(50% - 130px)';
        });
      });

      // 6. ë„ì°© ì´ë²¤íŠ¸ (CSS transition ì™„ë£Œ ì‹œì )
      container.addEventListener('transitionend', () => {
        // ë§í’ì„  ë³´ì´ê¸°
        bubble.style.display = 'flex';
        // í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
        bubble.onclick = (e) => {
          e.stopPropagation(); // ë²„ë¸” í´ë¦­ ì‹œ ì´ë²¤íŠ¸ ì „íŒŒ ë°©ì§€
          handleBubbleClick(bubble);
        };
      }, { once: true }); // í•œ ë²ˆë§Œ ì‹¤í–‰
    }

    function handleBubbleClick(bubbleEl) {
      const contentEl = bubbleEl.querySelector('.bubble-content');
      
      // ì´ë¯¸ í´ë¦­ëœ ìƒíƒœ(í–„ë²„ê±°)ë¼ë©´ ë¬´ì‹œ (ì¤‘ë³µ ì¶”ê°€ ë°©ì§€)
      if (contentEl.textContent === 'ğŸ”') return;

      // 1. ë§í’ì„  ë‚´ìš© ë³€ê²½ -> í–„ë²„ê±°
      contentEl.textContent = 'ğŸ”';

      // 2. ì£¼ë¬¸ ëª©ë¡(í‘œ)ì— ì¶”ê°€ (ìµœëŒ€ 9ê°œ)
      if (activeOrders.length < 9) {
        activeOrders.push({ item: 'burger' });
        renderOrderPopup(); // UI ê°±ì‹  (íƒ­í‚¤ ëˆ„ë¥´ë©´ í™•ì¸ ê°€ëŠ¥)
      } else {
        alert("ì£¼ë¬¸ì´ ê½‰ ì°¼ìŠµë‹ˆë‹¤!");
      }
    }


    /* ===============================
     * ê¸°ë³¸ ì´ˆê¸°í™”
     * =============================== */
    btnRecipePreview.addEventListener("click", () => openPreview());
    btnPreviewExit.addEventListener("click", () => closePreview());
    btnExit.addEventListener("click", () => closeOverlay());
    
    breadBtn.addEventListener("click", () => {
      breadDropdown.classList.toggle("open");
    });
    window.addEventListener("click", (e) => {
      if (!breadDropdown.contains(e.target)) breadDropdown.classList.remove("open");
    });

    btnStart.addEventListener('click', openOverlay);
    overlay.addEventListener('click', (e) => {
      if (e.target === overlay) closeOverlay();
    });

    function setBreadInit(bread){
      selectedBread = bread;
      selectedBreadChip.textContent = `ë¹µ: ${selectedBread}`;
      breadBtnValue.textContent = selectedBread;
    }
    function renderAll(){
      renderBreadMenu();
      renderItems();
      renderRecipe();
      if (isPreviewOpen()) renderPreview();
    }
    function init(){
      setBreadInit("ë°€ ë¹µ");
      wireDropZone();
      wireTabs();
      renderAll();
    }
    init();

  </script>
</body>
</html>
